var N3D={};N3D.Modules=(function(){var b={};var a=0;return{add:function(c,m){var e=N3D[c]=(function(f){return function(){throw new Error(f+" not loaded")}})(c);if(m instanceof Array){var o,k;var g=0;var j=b[c+".*"]=[];for(var h=0,d=m.length;h<d;h++){l=m[h];lib=c+"."+l;j.push(b[lib]={name:lib,src:lib.toLowerCase(),priority:a+g});o=e[l]=(function(f){return function(){throw new Error(f+" not loaded")}})(l);g+=0.00001}}else{b[c]={name:c,src:c.toLowerCase(),priority:a}}a++},set:function(d,c){var e=b[d];if(e instanceof Array){Array.prototype.push.apply(c,e)}else{if(typeof e!=="undefined"){c.push(e)}}}}})();N3D.Modules.add("Help");N3D.Modules.add("Math",["Main","Matrix3","Matrix4","Vector2","Vector3","Vector4"]);N3D.Modules.add("Utils",["Ajax","Events"]);N3D.Modules.add("Graphics",["Color","FPSCamera","Material","Render","Scene","Shader"]);N3D.Modules.add("Geometry",["Shapes"]);N3D.Modules.add("World",["Main"]);function extend(c,a){var b=function(){};b.prototype=a.prototype;c.prototype=new b();c.prototype.constructor=c;return c.prototype}(function(){var m=N3D.Support={Canvas:false,WebGL:false,SVG:false,VML:false,toString:function(){return"Context 2D: "+this.Canvas+"\nWebGL: "+this.WebGL+"\nSVG: "+this.SVG+"\nVML: "+this.VML}};var c=document.createElement("canvas");try{c.getContext("2d");m.Canvas=true}catch(k){}if(typeof WebGLRenderingContext!=="undefined"){m.WebGL=true}else{var h=["webgl","experimental-webgl"];for(var g=0;g<length;g++){try{var u=c.getContext(h[g]);m.WebGL=true;break}catch(k){}}}m.SVG=document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Shape","1.1");var q=document.createElement("div");q.innerHTML='<v:shape adj="1" />';var p=q.firstChild;p.style.behavior="url(#default#VML)";m.VML=p?typeof p.adj=="object":true;var o=document.getElementsByTagName("head")[0];var d=document.getElementsByTagName("script");d=d[d.length-1];var n=d.src.match(/.*\//);n=n?n[0]:"/";var t=N3D.Modules;function r(v,i,b){if(v.length==0){if(i.unloaded.length==0){i.success()}else{i.error(i.unloaded.join(","))}i.complete();return}var e=v[0];v.shift();if(document.getElementById(e.name)!=null){r(v,i);return false}N3D.isLoaded=false;var a=document.createElement("script");a.type="text/javascript";a.id=e.name;a.src=n+e.src+".js";o.appendChild(a);a.onreadystatechange=function(){if(a.readyState=="loaded"||a.readyState=="complete"){if(!N3D.isLoaded){i.unloaded.push(this.id+" missing library file,"+this.src+" not a file");o.removeChild(this)}this.onreadystatechange=null;r(v,i)}};a.onerror=function(){i.unloaded.push(this.id+" missing library file,"+this.src+" not a file");r(v,i);o.removeChild(this);return false};a.onload=function(){r(v,i)}}N3D.require=function(){var w=Array.prototype.slice.call(arguments);var a=[];var v={complete:function(i){this.complete=i||this.complete},success:function(i){this.success=i||this.success},error:function(i){this.error=i||this.error},unloaded:[]};for(var b=0,e=w.length;b<e;b++){t.set(w[b],a)}r(a.sort(function(x,i){return x.priority-i.priority}),v);return v};function j(w,b){var a;if(a=w[b]){return a}if(w.getAttribute&&(a=w.getAttribute(b))){return a}var e=w.attributes;var x=e.length;for(var v=0;v<x;v++){if(e[v].nodeName===b){return e[v].nodeValue}}return null}var f=j(d,"require");if(f!==null){var s=N3D.require.apply(null,f.split(","));s.success(function(){var a=document.createElement("script");a.type="text/javascript";a.textContent=d.innerHTML;o.appendChild(a);d.parentNode.removeChild(d)})}})();